import React, {useState} from 'react';
import { NavLink } from 'react-router-dom';
import { useSelector } from 'react-redux';
import ProfileButton from './ProfileButton';
import './Navigation.css';

function Navigation({ isLoaded }){
  const sessionUser = useSelector(state => state.session.user);
  const [searchInput, setSearchInput] = useState('')

  const disableNavLinks = (e) => {
    if(!sessionUser) e.preventDefault()
  }
  function validSearch (e){
    if(!searchInput.length) e.preventDefault()
    else setSearchInput('')
  }

  return (
    <div id='NavBar'>
      <div id='HomeButton'>
        <NavLink
        id='HomeButtonNavLink'
        style={{ textDecoration: 'none' }}
        exact to="/">SquareBnB</NavLink>
      </div>

      <div id='search-div'>
          <input
          type='text'
          placeholder='Start your search'
          required
          onChange={(e) => setSearchInput(e.target.value)}
          value={searchInput}
          className='NavBar-Search-Input'
          />
          <div id='search-button-div'>
          <NavLink
          to={`/search/${searchInput}`}
          onClick={validSearch}
          style={{ textDecoration: 'none' }}
          id='search-navlink'
          >
          <img  id='search-icon-img' src='data:image/jpeg;base64,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'></img>
          </NavLink>
          </div>
        </div>

      <div id='RightSide'>

      {sessionUser &&
      <NavLink
      id='Hosting'
      style={{ textDecoration: 'none' }}
      exact to='/spots'
      onClick={disableNavLinks}
      >Squarebnb your home</NavLink>}
      {isLoaded && (
        <div id='ProfileButton'>
          <ProfileButton user={sessionUser} />
        </div>
      )}
      </div>
    </div>
  );
}

export default Navigation;
